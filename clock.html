<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>Responsive 24-Hour Clock (UTC-8)</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #f0f0f0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: sans-serif;
    }

    canvas {
      display: block;
    }

    #digital-time {
      margin-top: 0.5em;
      font-size: 1em;
      text-align: center;
    }
  </style>
</head>
<body>
  <canvas id="clock-canvas"></canvas>
  <div id="digital-time"></div>

  <script>
    const canvas = document.getElementById('clock-canvas');
    const context = canvas.getContext('2d');
    const digitalDisplay = document.getElementById('digital-time');

    // Fixed UTC offset (change this value to adjust the time zone)
    const fixedUtcOffsetHours = -8;

    function resizeCanvasToWindow() {
      const width = window.innerWidth;
      canvas.width = width;
      canvas.height = width;
      drawClockFace();
      updateDigitalTime();
    }

    window.addEventListener('resize', resizeCanvasToWindow);
    window.addEventListener('orientationchange', resizeCanvasToWindow);

    function drawClockFace() {
      const canvasWidth = canvas.width;
      const center = canvasWidth / 2;
      const radius = center * 0.85; // leave margin for numbers

      context.setTransform(1, 0, 0, 1, 0, 0);
      context.clearRect(0, 0, canvasWidth, canvasWidth);
      context.translate(center, center);

      drawClockBackground(radius, canvasWidth);
      drawClockHourNumbers(radius);
      drawClockHourHand(radius);
    }

    function drawClockBackground(radius, canvasWidth) {
      const majorTickLength = radius * 0.10;
      const mediumTickLength = radius * 0.066;
      const minorTickLength = radius * 0.033;

      // Fill the bottom half with a darker gray
      context.beginPath();
      context.moveTo(0, 0);
      context.arc(0, 0, radius, Math.PI, 2 * Math.PI);
      context.closePath();
      context.fillStyle = '#ccc';
      context.fill();

      // Outer circle
      context.beginPath();
      context.arc(0, 0, radius, 0, 2 * Math.PI);
      context.lineWidth = Math.max(2, canvasWidth * 0.008);
      context.strokeStyle = '#000';
      context.stroke();

      // Draw 96 ticks (24 hours * 4 ticks/hour)
      for (let i = 0; i < 96; i++) {
        const angle = i * 2 * Math.PI / 96 + 1.5 * Math.PI; // rotate so 0 is at bottom
        const isHourTick = i % 4 === 0;
        const isHalfHourTick = i % 2 === 0;
        const tickLength = isHourTick ? majorTickLength : isHalfHourTick ? mediumTickLength : minorTickLength;
        const outerRadius = radius;
        const innerRadius = radius - tickLength;

        context.beginPath();
        context.moveTo(outerRadius * Math.cos(angle), outerRadius * Math.sin(angle));
        context.lineTo(innerRadius * Math.cos(angle), innerRadius * Math.sin(angle));
        context.lineWidth = isHourTick ? Math.max(3, canvasWidth * 0.01) : Math.max(1, canvasWidth * 0.004);
        context.strokeStyle = '#000';
        context.stroke();
      }
    }

    function drawClockHourNumbers(radius) {
      const fontSize = Math.max(10, radius * 0.08);
      context.font = `${fontSize}px sans-serif`;
      context.textAlign = 'center';
      context.textBaseline = 'middle';

      const numberRadius = radius * 1.10;

      for (let hour = 0; hour < 24; hour++) {
        const angle = hour * 2 * Math.PI / 24 + 0.5 * Math.PI;
        const x = numberRadius * Math.cos(angle);
        const y = numberRadius * Math.sin(angle);
        context.fillStyle = '#000';
        context.fillText(hour, x, y);
      }
    }

    function drawClockHourHand(radius) {
      const utcNow = new Date();
      const hours = (utcNow.getUTCHours() + fixedUtcOffsetHours + 24) % 24;
      const minutes = utcNow.getUTCMinutes();
      const hourFraction = (hours + minutes / 60) / 24;
      const angle = hourFraction * 2 * Math.PI + Math.PI;

      const handLength = radius - radius * 0.10 + 2;
      const handWidth = Math.max(14, radius * 0.07);

      context.save();
      context.rotate(angle);
      context.beginPath();
      context.moveTo(-handWidth / 2, 0);
      context.lineTo(0, -handLength);
      context.lineTo(handWidth / 2, 0);
      context.closePath();
      context.fillStyle = '#000';
      context.fill();
      context.restore();
    }

    function updateDigitalTime() {
      const utcNow = new Date();
      const hours = (utcNow.getUTCHours() + fixedUtcOffsetHours + 24) % 24;
      const minutes = utcNow.getUTCMinutes();
      const seconds = utcNow.getUTCSeconds();

      const formattedHours = String(hours).padStart(2, '0');
      const formattedMinutes = String(minutes).padStart(2, '0');
      const formattedSeconds = String(seconds).padStart(2, '0');

      digitalDisplay.textContent = `${formattedHours}:${formattedMinutes}:${formattedSeconds} UTC${fixedUtcOffsetHours}`;
    }

    // Initial drawing and repeat every second
    resizeCanvasToWindow();
    setInterval(() => {
      drawClockFace();
      updateDigitalTime();
    }, 1000);
  </script>
</body>
</html>
